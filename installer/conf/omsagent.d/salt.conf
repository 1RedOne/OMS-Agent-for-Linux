<source>
  type tail
  format none
  path /var/log/salt/master
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_salt-master.pos
  read_from_head true
  tag oms.api.Salt-master
</source>

<source>
  type tail
  format none
  path /var/log/salt/minion
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_salt-minion.pos
  read_from_head true
  tag oms.api.Salt-minion
</source>

<source>
  type tail
  format none
  path /var/log/salt/key
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_salt-key.pos
  read_from_head true
  tag oms.api.Salt-key
</source>

<source>
  type tail
  format none
  path /var/log/salt/syndic.loc
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_salt-syndic.pos
  read_from_head true
  tag oms.api.Salt-syndic
</source>

<filter oms.api.Salt-*>
  type record_transformer
  enable_ruby
  <record>
    Computer ${OMS::Common.get_hostname}
  </record>
</filter>