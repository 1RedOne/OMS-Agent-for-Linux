# Puppet master logs

<source>
  type tail
  format none
  path /var/log/pe-httpd/access.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_access.pos
  read_from_head true
  tag oms.api.Puppet-access
</source>

<source>
  type tail
  format none
  path /var/log/pe-httpd/puppetmasteraccess.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_puppetmasteraccess.pos
  read_from_head true
  tag oms.api.Puppet-access
</source>

# ActiveMQ logs

<source>
  type tail
  format none
  path /var/log/pe-activemq/activemq.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_activemq.pos
  read_from_head true
  tag oms.api.Puppet-activemq
</source>

<source>
  type tail
  format none
  path /var/log/pe-activemq/wrapper.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_activemq-wrapper.pos
  read_from_head true
  tag oms.api.Puppet-activemq
</source>

# Orchestration service logs

<source>
  type tail
  format none
  path /var/log/pe-mcollective/mcollective.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_mcollective.pos
  read_from_head true
  tag oms.api.Puppet-mcollective
</source>

<source>
  type tail
  format none
  path /var/log/pe-mcollective/mcollective_audit.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_mcollective-audit.pos
  read_from_head true
  tag oms.api.Puppet-mcollective
</source>

# Database logs

<source>
  type tail
  format none
  path /var/log/pe-puppetdb/pe-puppetdb.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_puppetdb.pos
  read_from_head true
  tag oms.api.Puppet-puppetdb
</source>

# Console logs

<source>
  type tail
  format none
  path /var/log/pe-httpd/puppetdashboard.error.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_dashboard-error.pos
  read_from_head true
  tag oms.api.Puppet-dashboard
</source>

<source>
  type tail
  format none
  path /var/log/pe-puppet-dashboard/mcollective_client.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_dashboard-mcollective-client.pos
  read_from_head true
  tag oms.api.Puppet-dashboard
</source>

<source>
  type tail
  format none
  path /var/log/pe-puppet-dashboard/production.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_dashboard-production.pos
  read_from_head true
  tag oms.api.Puppet-dashboard
</source>

<source>
  type tail
  format none
  path /var/log/pe-puppet-dashboard/event-inspector.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_dashboard-event-inspector.pos
  read_from_head true
  tag oms.api.Puppet-dashboard
</source>

<source>
  type tail
  format none
  path /var/log/pe-puppet-dashboard/certificate_manager.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_dashboard-certificate-manager.pos
  read_from_head true
  tag oms.api.Puppet-dashboard
</source>

<source>
  type tail
  format none
  path /var/log/pe-puppet-dashboard/live-management.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_dashboard-live-management.pos
  read_from_head true
  tag oms.api.Puppet-dashboard
</source>

<source>
  type tail
  format none
  path /var/log/pe-console-auth/cas_client.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_console-cas-client.pos
  read_from_head true
  tag oms.api.Puppet-console
</source>

<source>
  type tail
  format none
  path /var/log/pe-console-auth/cas.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_console-auth-cas.pos
  read_from_head true
  tag oms.api.Puppet-console
</source>

<source>
  type tail
  format none
  path /var/log/pe-console-auth/auth.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_console-auth.pos
  read_from_head true
  tag oms.api.Puppet-console
</source>

<source>
  type tail
  format none
  path /var/log/pe-httpd/puppetdashboard.access.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_dashboard-access.pos
  read_from_head true
  tag oms.api.Puppet-dashboard
</source>

<source>
  type tail
  format none
  path /var/log/pe-puppet-dashboard/failed_reports.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_dashboard-failed-reports.pos
  read_from_head true
  tag oms.api.Puppet-dashboard
</source>

<source>
  type tail
  format none
  path /var/log/pe-httpd/error.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_error.pos
  read_from_head true
  tag oms.api.Puppet-error
</source>

# Miscellaneous logs

<source>
  type tail
  format none
  path /var/log/pe-httpd/other_vhosts_access.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_other-vhosts-access.pos
  read_from_head true
  tag oms.api.Puppet-vhosts
</source>

<source>
  type tail
  format none
  path /var/log/pe-puppet/masterhttp.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_masterhttp.pos
  read_from_head true
  tag oms.api.Puppet-masterhttp
</source>

<source>
  type tail
  format none
  path /var/log/pe-puppet/rails.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_rails.pos
  read_from_head true
  tag oms.api.Puppet-rails
</source>

<filter oms.api.Puppet*>
  type record_transformer
  enable_ruby
  <record>
    Computer ${OMS::Common.get_hostname}
  </record>
</filter>