<source>
  type tail
  format none
  path /var/log/chef-server/bookshelf/current
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_chef-bookshelf.pos
  read_from_head true
  tag oms.api.Chef-bookshelf
</source>

<source>
  type tail
  format none
  path /var/log/chef-server/chef-expander/current
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_chef-expander.pos
  read_from_head true
  tag oms.api.Chef-expander
</source>

<source>
  type tail
  format none
  path /var/log/chef-server/chef-pedant/http-traffic.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_chef-pedant-http-traffic.pos
  read_from_head true
  tag oms.api.Chef-pedant-http-traffic
</source>

<source>
  type tail
  format none
  path /var/log/chef-server/chef-server-webui/current
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_chef-server-webui.pos
  read_from_head true
  tag oms.api.Chef-server-webui
</source>

<source>
  type tail
  format none
  path /var/log/chef-server/chef-solr/current
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_chef-solr.pos
  read_from_head true
  tag oms.api.Chef-solr
</source>

<source>
  type tail
  format none
  path /var/log/chef-server/erchef/current
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_chef-erchef-current.pos
  read_from_head true
  tag oms.api.Chef-erchef-current
</source>

<source>
  type tail
  format none
  path /var/log/chef-server/erchef/erchef.log.1
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_chef-erchef.pos
  read_from_head true
  tag oms.api.Chef-erchef
</source>

<source>
  type tail
  format none
  path /var/log/chef-server/nginx/access.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_chef-nginx-access.pos
  read_from_head true
  tag oms.api.Chef-nginx-access
</source>

<source>
  type tail
  format none
  path /var/log/chef-server/nginx/error.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_chef-nginx-error.pos
  read_from_head true
  tag oms.api.Chef-nginx-error
</source>

<source>
  type tail
  format none
  path /var/log/chef-server/nginx/rewrite-port-80.log
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_chef-nginx-rewrite-port-80.pos
  read_from_head true
  tag oms.api.Chef-nginx-rewrite-port-80
</source>

<source>
  type tail
  format none
  path /var/log/chef-server/postgresql/current
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_chef-postgresql.pos
  read_from_head true
  tag oms.api.Chef-postgresql
</source>

<source>
  type tail
  format none
  path /var/log/chef-server/rabbitmq/current
  pos_file /var/opt/microsoft/omsagent/state/out_oms_api_chef-rabbitmq.pos
  read_from_head true
  tag oms.api.Chef-rabbitmq
</source>

<filter oms.api.Chef*>
  type record_transformer
  enable_ruby
  <record>
    Computer ${OMS::Common.get_hostname}
  </record>
</filter>